package bookred.admin.service;

import java.util.ArrayList;
import java.util.List;

import bookred.admin.dao.FacilityManagementDAO;
import bookred.admin.dto.FacilityManagementVO;

public class FacilityManagementServiceImpl implements FacilityManagementService {

	private FacilityManagementDAO facilityManagementDAO;

	public void setFacilityManagementDAO(FacilityManagementDAO facilityManagementDAO) {
		this.facilityManagementDAO = facilityManagementDAO;
	}

	@Override
	public List<FacilityManagementVO> profile(FacilityManagementVO facilityManagerment) throws Exception {

		List<FacilityManagementVO> list = facilityManagementDAO.getProfile(facilityManagerment);
		return list;
	}

	@Override
	public List<String> count() throws Exception {
		String[] m1RoomList= {"101","102","103","104","201","202","203","204","301","302","303","304","401","402","403","404"};
		List<String> rsvStatus = new ArrayList<String>();
		for(String roomNum : m1RoomList) {
			int cnt = facilityManagementDAO.getCount(roomNum);
			String	data = Integer.toString(cnt);
			rsvStatus.add(data);
		}
		
		return rsvStatus;
	}

	@Override
	public List<String> selectCount(FacilityManagementVO facilityManagement) throws Exception {
		String[] m1RoomList= {"101","102","103","104","201","202","203","204","301","302","303","304","401","402","403","404"};
		List<String> rsvStatus = new ArrayList<String>();
		for(String roomNum : m1RoomList) {
			facilityManagement.setRoomNum(roomNum);
			int cnt = facilityManagementDAO.getSelectCount(facilityManagement);
			String	data = Integer.toString(cnt);
			rsvStatus.add(data);
		}
		System.out.println(rsvStatus);
		return rsvStatus;
	}

}