<%@ page language="java" contentType="text/html; charset=UTF-8"
	pageEncoding="UTF-8"%>
<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core"%>
<%@ taglib prefix="fmt" uri="http://java.sun.com/jsp/jstl/fmt"%>


<c:set var="memberList" value="${dataMap.memberList }" />
<c:set var="pageMaker" value="${dataMap.pageMaker }" />
<c:set var="cri" value="${pageMaker.cri }" />
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport"
	content="width=device-width,initial-scale=1.0,user-scalable=0,minimal-ui">
<meta name="description"
	content="Vuexy admin is super flexible, powerful, clean &amp; modern responsive bootstrap 4 admin template with unlimited possibilities.">
<meta name="keywords"
	content="admin template, Vuexy admin template, dashboard template, flat admin template, responsive admin template, web app">
<meta name="author" content="PIXINVENT">
<title>Dashboard ecommerce - Vuexy - Bootstrap HTML admin
	template</title>
<link rel="apple-touch-icon"
	href="<%=request.getContextPath()%>/resources/vuexy/html-version/Bootstrap5/vuexy-html-bootstrap5-admin-template/app-assets/images/ico/apple-icon-120.png">
<link rel="shortcut icon" type="image/x-icon"
	href="<%=request.getContextPath()%>/resources/vuexy/html-version/Bootstrap5/vuexy-html-bootstrap5-admin-template/app-assets/images/ico/favicon.ico">
<link
	href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,300;0,400;0,500;0,600;1,400;1,500;1,600"
	rel="stylesheet">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link
	href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;700&display=swap"
	rel="stylesheet">
<!-- BEGIN: Vendor CSS-->
<link rel="stylesheet" type="text/css"
	href="<%=request.getContextPath()%>/resources/vuexy/html-version/Bootstrap5/vuexy-html-bootstrap5-admin-template/app-assets/vendors/css/vendors.min.css">
<link rel="stylesheet" type="text/css"
	href="<%=request.getContextPath()%>/resources/vuexy/html-version/Bootstrap5/vuexy-html-bootstrap5-admin-template/app-assets/vendors/css/charts/apexcharts.css">
<link rel="stylesheet" type="text/css"
	href="<%=request.getContextPath()%>/resources/vuexy/html-version/Bootstrap5/vuexy-html-bootstrap5-admin-template/app-assets/vendors/css/extensions/toastr.min.css">
<!-- END: Vendor CSS-->

<!-- BEGIN: Theme CSS-->
<link rel="stylesheet" type="text/css"
	href="<%=request.getContextPath()%>/resources/vuexy/html-version/Bootstrap5/vuexy-html-bootstrap5-admin-template/app-assets/css/bootstrap.css">
<link rel="stylesheet" type="text/css"
	href="<%=request.getContextPath()%>/resources/vuexy/html-version/Bootstrap5/vuexy-html-bootstrap5-admin-template/app-assets/css/bootstrap-extended.css">
<link rel="stylesheet" type="text/css"
	href="<%=request.getContextPath()%>/resources/vuexy/html-version/Bootstrap5/vuexy-html-bootstrap5-admin-template/app-assets/css/colors.css">
<link rel="stylesheet" type="text/css"
	href="<%=request.getContextPath()%>/resources/vuexy/html-version/Bootstrap5/vuexy-html-bootstrap5-admin-template/app-assets/css/components.css">
<link rel="stylesheet" type="text/css"
	href="<%=request.getContextPath()%>/resources/vuexy/html-version/Bootstrap5/vuexy-html-bootstrap5-admin-template/app-assets/css/themes/dark-layout.css">
<link rel="stylesheet" type="text/css"
	href="<%=request.getContextPath()%>/resources/vuexy/html-version/Bootstrap5/vuexy-html-bootstrap5-admin-template/app-assets/css/themes/bordered-layout.css">
<link rel="stylesheet" type="text/css"
	href="<%=request.getContextPath()%>/resources/vuexy/html-version/Bootstrap5/vuexy-html-bootstrap5-admin-template/app-assets/css/themes/semi-dark-layout.css">

<!-- BEGIN: Page CSS-->
<link rel="stylesheet" type="text/css"
	href="<%=request.getContextPath()%>/resources/vuexy/html-version/Bootstrap5/vuexy-html-bootstrap5-admin-template/app-assets/css/core/menu/menu-types/horizontal-menu.css">
<link rel="stylesheet" type="text/css"
	href="<%=request.getContextPath()%>/resources/vuexy/html-version/Bootstrap5/vuexy-html-bootstrap5-admin-template/app-assets/css/pages/dashboard-ecommerce.css">
<link rel="stylesheet" type="text/css"
	href="<%=request.getContextPath()%>/resources/vuexy/html-version/Bootstrap5/vuexy-html-bootstrap5-admin-template/app-assets/css/plugins/charts/chart-apex.css">
<link rel="stylesheet" type="text/css"
	href="<%=request.getContextPath()%>/resources/vuexy/html-version/Bootstrap5/vuexy-html-bootstrap5-admin-template/app-assets/css/plugins/extensions/ext-component-toastr.css">
<!-- END: Page CSS-->

<!-- BEGIN: Custom CSS-->
<link rel="stylesheet" type="text/css"
	href="<%=request.getContextPath()%>/resources/vuexy/html-version/Bootstrap5/vuexy-html-bootstrap5-admin-template/assets/css/style.css">
<!-- END: Custom CSS-->
</head>
<body>
<div class="container">
<div class="row" style="margin:auto; padding-bottom: 20px;">
	<div class="col-md-10">
<!-- 		<button type="button" class="form-control btn btn-primary btn-outline-secondary"  id="registBtn" onclick="OpenWindow('registForm.do','공지등록',800,700);"></button> -->
	</div>
	<select class="form-control col-md-3" name="perPageNum" id="perPageNum"	onchange="list_go(1);"  style="display: none;">
  		<option value="20" >정렬개수</option>
	</select>
	<div class="row col-md-12 ">
		<div class="input-group">
			<select class="form-control form-select" name="searchType" id="searchType" style="width:25%;">
				<option value="tcw" ${cri.searchType eq 'tcw' ? 'selected':'' }>전체</option>
				<option value="t" ${cri.searchType eq 't' ? 'selected':'' }>제목</option>
				<option value="w" ${cri.searchType eq 'w' ? 'selected':'' }>작성자</option>
				<option value="c" ${cri.searchType eq 'c' ? 'selected':'' }>내용</option>
				<option value="tc" ${cri.searchType eq 'tc' ? 'selected':'' }>제목+내용</option>
				<option value="cw" ${cri.searchType eq 'cw' ? 'selected':'' }>작성자+내용</option>
				<option value="tcw" ${cri.searchType eq 'tcw' ? 'selected':'' }>작성자+제목+내용</option>
			</select>
			<input class="form-control " type="text" name="keyword"	placeholder="검색어를 입력하세요." value="${param.keyword }" style="width:50%;"/>
			<button class="form-control btn btn-primary btn-outline-secondary" style="width:25%;" type="button" onclick="list_go(1);" value="검색" data-card-widget="search"><i class="fa fa-fw fa-search"></i>검색</button>
		</div>
	</div>
</div>
	<!-- Basic Tables start -->
	<div class="row" id="basic-table">
		<div class="col-12">
			<div class="card">
				<div class="card-header">
					<h1 class="card-title">회원목록</h1>
				</div>
				<div class="table-responsive">
					<table class="table" style="text-align: center">
						<thead>
							<tr style="font-size: 1.05em;">
								<th>회원번호</th>
								<th>이름</th>
								<th>아이디</th>
								<th>등급/포인트</th>
								<th>이메일</th>
								<th>연락처</th>
								<th>가입일</th>
								<th>블랙리스트</th>
								<th>비고</th>
							</tr>
						</thead>
						<tbody>
							<c:forEach items="${memberList }" var="member">
								<tr
									onclick="OpenWindow('detail.do?from=list&notice_no=${member.mem_id }','상세보기',1100,700);">
									<td>${member.mem_id}</td>
									<td>${member.mem_name}</td>
									<td>${member.mem_id}</td>
									<td>${member.mem_email}</td>
<%-- 									<td><fmt:formatDate value="${notice.notice_regdate }" --%>
<%-- 											pattern="yyyy-MM-dd" /></td> --%>
									<td>${member.mem_id}</td>
									<td>${member.mem_id}</td>
									<td>${member.mem_id}</td>
									<td>${member.mem_id}</td>
									<td>${member.mem_id}</td>
<!-- 									<td> -->
<%-- 										<c:if test="${!empty notice.attachList}"> --%>
<%-- 											<i class="nav-icon fas fa-file"></i>(${notice.attachList.size() }) --%>
<%-- 										</c:if>	 --%>
<%-- 										<c:if test="${empty notice.attachList}"> --%>
<!-- 											<span>-</span> -->
<%-- 										</c:if>	 --%>
<!-- 									</td> -->
								</tr>
							</c:forEach>
						</tbody>
					</table>
				</div>
			</div>
		</div>
	</div>
	<!-- Basic Tables end -->
	<div class="card-footer">
		<%@ include file="/WEB-INF/views/include/pagination.jsp"%>
	</div>
</div>
	<!-- jQuery -->
<script	src="<%=request.getContextPath()%>/resources/jquery/jquery.min.js"></script>

<script>	
	<c:if test="${from eq 'regist'}">
		alert("공지사항 등록이 성공했습니다.");
		window.opener.location.reload();
		window.close();
	</c:if>
function list_go(page, url){
   if(!url) url="<%=request.getContextPath()%>/main/board/notice/list.do";
			var jobForm = $('#jobForm');
			jobForm.find("[name='page']").val(page);
			jobForm.find("[name='perPageNum']").val(
					$('select[name="perPageNum"]').val());
			jobForm.find("[name='searchType']").val(
					$('select[name="searchType"]').val());
			jobForm.find("[name='keyword']").val(
					$('div.input-group>input[name="keyword"]').val());
			jobForm.attr({
				action : url,
				method : 'get'
			}).submit();
		}
		
	</script>
	<script src="<%=request.getContextPath()%>/resources/js/common.js"></script>
	<script type="text/javascript">
		console.log(${dataMap});
	</script>





