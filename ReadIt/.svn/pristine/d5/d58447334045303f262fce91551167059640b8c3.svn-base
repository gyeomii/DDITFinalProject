<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<%@ taglib prefix="decorator" uri="http://www.opensymphony.com/sitemesh/decorator" %>
<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %>    

<!DOCTYPE html>
<html>
<!-- BEGIN: Head-->

<head>
 	<meta charset='utf-8' />
    <meta name="viewport" content="width=device-width,initial-scale=1.0,user-scalable=0,minimal-ui">
    <title>도서관 일정관리</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,300;0,400;0,500;0,600;1,400;1,500;1,600" rel="stylesheet">
    <script src="<%=request.getContextPath()%>/resources/jquery/jquery.min.js"></script>
   	<script src="https://cdn.jsdelivr.net/npm/fullcalendar@5.11.3/locales-all.min.js"></script>
	<link href="https://cdn.jsdelivr.net/npm/fullcalendar@5.11.3/main.css" rel="stylesheet">
	<script src="https://cdn.jsdelivr.net/npm/fullcalendar@5.11.3/main.min.js"></script>

</head>
<!-- END: Head-->
<!-- BEGIN: Body-->
<body>
	<div class="container">
	<div class="card">
		<div class="card-body row">
			<div id="calendar" class="col-9 col-lg-9">
			
			</div>
		</div>
	</div>
	</div>
	
	
<!-- <h1>테스트 텍스트</h1> -->
<%@ include file="../../common/index_js.jsp" %>  

	<!-- fullCalendar 관련 script -->
	<script>
	
	document.addEventListener('DOMContentLoaded', function() {
        var calendarEl = document.getElementById('calendar');
        var calendar = new FullCalendar.Calendar(calendarEl, {
        	headerToolbar: {
		          left: 'prev,next today',
		          center: 'title',
		          right: 'dayGridMonth,timeGridWeek,timeGridDay,listWeek'
		        }, // 월별로 보여줄지, 주별로 보여줄 지 선택하는  버튼 
        	initialView: 'dayGridMonth',
         	selectable: true,
			locale:'ko',
// 			events: scheduleList, // 태훈이네 객체
			selectable: true, // 달력 일자 드래그 설정가능
		   	editable: true, // 수정 가능?
		   	dayMaxEvents: true,
		   	eventAdd: function(obj) { // 이벤트가 추가되면 발생하는 이벤트
		   		alert("이벤트 실행됨?");
// 				   console.log("추가 : ",obj)
// 					console.log("추가 id  : ",obj.event.id)
// 					console.log("추가  title : ",obj.event.title)
// 					console.log("추가  start: ",obj.event.start)
// 					console.log("추가  groupId: ",obj.event.groupId)
// 					console.log("추가  end: ",obj.event.end)
// 					var startDateObj = obj.event.start
// 					var endDateObj = obj.event.end
// 					var calendarData =null;
// 				  	$('#detailEnd').val("");
// 					$('#detailStart').val("");
// 					$('#detailText').html("");
// 					$("#addDetail").val("");
// 					console.log("ttt",$('#detailText').val());
		   	}
        });
        calendar.render();
	});
	
// 	var calendar = null;
	
// 	 document.addEventListener('DOMContentLoaded', function() {
// 	   var calendarEl = document.getElementById('calendar');
// 	   calendar = new FullCalendar.Calendar(calendarEl, {
// 		   headerToolbar: {
// 		          left: 'prev,next today',
// 		          center: 'title',
// 		          right: 'dayGridMonth,timeGridWeek,timeGridDay,listWeek'
// 		        }, // 월별로 보여줄지, 주별로 보여줄 지 선택하는  버튼 
// 			initialView: 'dayGridMonth',
// 			selectable: true,
// 			locale:'ko',
// 			events: scheduleList,
// 		   selectable: true, // 달력 일자 드래그 설정가능
// 		   editable: true, // 수정 가능?
// 		   dayMaxEvents: true,
// 		   eventAdd: function(obj) { // 이벤트가 추가되면 발생하는 이벤트
// 			   console.log("추가 : ",obj)
// 				console.log("추가 id  : ",obj.event.id)
// 				console.log("추가  title : ",obj.event.title)
// 				console.log("추가  start: ",obj.event.start)
// 			//	console.log("추가  groupId: ",obj.event.groupId)
// 				console.log("추가  end: ",obj.event.end)
// 				var startDateObj = obj.event.start
// 				var endDateObj = obj.event.end
// 				var calendarData =null;
// 			  	$('#detailEnd').val("");
// 				$('#detailStart').val("");
// 				$('#detailText').html("");
// 				$("#addDetail").val("");
// 				console.log("ttt",$('#detailText').val())
// 				if(endDateObj){
// 					var calendarData = {
// 				   		title:obj.event.title,
// 				   		//scheDetail:obj.event.groupId,
// 				   		scheId:obj.event.id,
// 				   		startYear:startDateObj.getFullYear(),
// 				   		startMonth:startDateObj.getMonth()+1,
// 				   		startDate:startDateObj.getDate(),
// 				   		startHour:startDateObj.getHours(),
// 				   		startMinute:+startDateObj.getMinutes(),
// 				   		endYear:endDateObj.getFullYear(),
// 				   		endMonth:endDateObj.getMonth()+1,
// 				   		endDate:endDateObj.getDate(),
// 				   		endHour:endDateObj.getHours(),
// 				   		endMinute:endDateObj.getMinutes(),
// 			   		}
// 				}else{
// 					var calendarData = {
// 					   		title:obj.event.title,
// 					   		//scheDetail:obj.event.groupId,
// 					   		scheId:obj.event.id,
// 					   		startYear:startDateObj.getFullYear(),
// 					   		startMonth:startDateObj.getMonth()+1,
// 					   		startDate:startDateObj.getDate(),
// 					   		startHour:startDateObj.getHours(),
// 					   		startMinute:+startDateObj.getMinutes(),
// 				   		}
// 				}
// 		   ;
// 				$.ajax({
<%-- 					url:'<%=request.getContextPath()%>'+'/common/scSchedule/calendar/insert', --%>
// 					type:"post",
// 					data:JSON.stringify(calendarData),
// 					contentType:"application/json; charset=utf-8",
// 					dataType:"json",
// 					success:function(data){
// 						alert("성공")
// 					},
// 					error:function(){
// 						alert("에러")
// 					}
// 				})
				
// 			},
// 			eventChange: function(obj) { // 이벤트가 수정되면 발생하는 이벤트
// 				console.log(obj);
// 			  	console.log("변경 : ",obj);
// 				console.log("변경 id  : ",obj.event.id);
// 				console.log("변경  title : ",obj.event.title);
// 				console.log("변경  start: ",obj.event.start);
// 				console.log("변경  end: ",obj.event.end);
// 			},
// 			eventRemove: function(obj){ // 이벤트가 삭제되면 발생하는 이벤트
// 			  	console.log("삭제 : ",obj);
// 				console.log("삭제 id  : ",obj.event.id);
// 				console.log("삭제  title : ",obj.event.title);
// 				console.log("삭제  start: ",obj.event.start);
// 				console.log("삭제  end: ",obj.event.end);
// 			},
// 			eventClick:function(info){
// 				$('#detailEnd').val("");
// 				$('#detailStart').val("");
// 				$('#detailText').val("");
// 				showDetail(info);
// 			}
			 
			
// 	   });
// 	   calendar.render();
// 	 });

</script>
	
</body>
<!-- END: Body-->

</html>